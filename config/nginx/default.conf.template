# upstream myapp {
#    server mysuperapp-1:7080;
#    server mysuperapp-2:7080;
#    server mysuperapp-3:7080;
# }


server {
   listen 80;

   location / {
      proxy_pass http://mysuperapp-1:7080;
   }

   location /api/user {
      proxy_pass http://mysuperapp-2:7080;
   }

   location /api/profile {
      proxy_pass http://mysuperapp-3:7080;
   }

}